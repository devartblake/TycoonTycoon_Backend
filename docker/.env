# =============================================================================
# Tycoon Backend - Docker Environment Configuration
# =============================================================================
# This file contains default configuration for local development.
# Copy this file to create your own .env if it doesn't exist:
#   cp docker/.env.example docker/.env
#
# For production deployments, override these values with secure credentials.
# =============================================================================

# --- PostgreSQL Configuration ---
# Primary relational database for application data, EF Core migrations, and Hangfire
POSTGRES_DB=tycoon_db                    # Database name
POSTGRES_USER=tycoon_user                # Database user
POSTGRES_PASSWORD=tycoon_password_123    # Database password (CHANGE IN PRODUCTION!)
POSTGRES_PORT=5432                       # PostgreSQL port

# --- MongoDB Configuration ---
# Document database for analytics, eventing, and unstructured data

# MongoDB Root/Admin Credentials
MONGO_INITDB_ROOT_USERNAME=tycoon_admin              # MongoDB admin username
MONGO_INITDB_ROOT_PASSWORD=tycoon_mongo_password_123 # MongoDB admin password (CHANGE IN PRODUCTION!)
MONGO_INITDB_DATABASE=tycoon_db                      # Initial database name
MONGO_PORT=27017                                     # MongoDB port

# MongoDB Application User (created automatically by init script)
MONGO_APP_USER=tycoon_app_user                       # App-specific MongoDB user
MONGO_APP_PASSWORD=tycoon_app_password_123           # App user password (CHANGE IN PRODUCTION!)
MONGO_APP_DB=tycoon_db                               # Application database

# --- Redis Configuration ---
# In-memory cache for session storage, SignalR backplane, and distributed caching
REDIS_PASSWORD=tycoon_redis_password_123  # Redis password (CHANGE IN PRODUCTION!)
REDIS_PORT=6379                           # Redis port

# --- Elasticsearch / Kibana Configuration ---
# Full-text search engine for logs, analytics, and search features
ELASTIC_PASSWORD=tycoon_elastic_password_123  # Elasticsearch password (CHANGE IN PRODUCTION!)
ELASTICSEARCH_PORT=9200                        # Elasticsearch HTTP port
KIBANA_PORT=5601                              # Kibana UI port
ES_JAVA_OPTS=-Xms512m -Xmx512m                # Java heap size for Elasticsearch

# --- RabbitMQ Configuration ---
# Message broker for background jobs and event-driven architecture
RABBITMQ_USER=tycoon_user                       # RabbitMQ username
RABBITMQ_PASSWORD=tycoon_rabbitmq_password_123  # RabbitMQ password (CHANGE IN PRODUCTION!)
RABBITMQ_VHOST=tycoon                           # RabbitMQ virtual host
RABBITMQ_PORT=5672                              # RabbitMQ AMQP port
RABBITMQ_MANAGEMENT_PORT=15672                  # RabbitMQ management UI port

# --- Optional Admin UIs (dev profile only) ---
# These services are only started with: make -f docker/MakeFile up-dev

# pgAdmin - PostgreSQL Web UI
PGADMIN_DEFAULT_EMAIL=admin@tycoon.local      # pgAdmin login email
PGADMIN_DEFAULT_PASSWORD=admin_password_123   # pgAdmin login password
PGADMIN_PORT=5050                             # pgAdmin web port

# Mongo Express - MongoDB Web UI
MONGO_EXPRESS_PORT=8081                       # Mongo Express web port
MONGO_EXPRESS_USERNAME=admin                  # Mongo Express login username
MONGO_EXPRESS_PASSWORD=admin_password_123     # Mongo Express login password

# Prometheus - Metrics Collection
PROMETHEUS_PORT=9090                          # Prometheus web UI port

# Grafana - Metrics Visualization
GRAFANA_PORT=3000                             # Grafana web UI port
GRAFANA_USER=admin                            # Grafana login username
GRAFANA_PASSWORD=admin_password_123           # Grafana login password

# --- Backend API Configuration ---
# ASP.NET Core API service configuration
ASPNETCORE_ENVIRONMENT=Development            # Environment: Development, Staging, Production
BACKEND_HTTP_PORT=5000                        # API HTTP port
BACKEND_HTTPS_PORT=5001                       # API HTTPS port (if SSL enabled)

# --- Backend Feature Flags ---
# Hangfire - Background job processing and recurring tasks
HANGFIRE_ENABLED=true                         # Enable/disable Hangfire dashboard

# Analytics - Event tracking and analytics features
ANALYTICS_ENABLED=true                        # Enable/disable analytics

# Admin Operations - Administrative API endpoints
ADMIN_OPS_ENABLED=true                        # Enable/disable admin operations
ADMIN_OPS_KEY=CHANGE_ME_IN_PRODUCTION         # Admin API key (CHANGE IN PRODUCTION!)

# --- JWT Authentication Configuration ---
# JSON Web Token configuration for API authentication
JWT_SECRET_KEY=your-super-secret-jwt-key-change-me-in-production-minimum-32-characters-long
# ⚠️  WARNING: MUST be changed in production! Minimum 32 characters.

# --- Migration Service Configuration ---
# Database migration and seeding service

# Migration Mode Options:
#   - MigrateAndSeed: Run migrations and seed reference data (default)
#   - RebuildElastic: Rebuild Elasticsearch indices only
#   - MigrateSeedAndRebuildElastic: Run migrations, seed, and rebuild Elasticsearch
MIGRATION_MODE=MigrateAndSeed

# Elasticsearch Rebuild Settings (optional)
REBUILD_ELASTIC=false                          # Enable Elasticsearch index rebuild
REBUILD_ELASTIC_FROM_DATE=2025-01-01          # Start date for rebuild
REBUILD_ELASTIC_TO_DATE=2025-12-31            # End date for rebuild

# --- Logging Configuration ---
# Minimum log level for all services
LOG_LEVEL=Information                         # Options: Trace, Debug, Information, Warning, Error, Critical
